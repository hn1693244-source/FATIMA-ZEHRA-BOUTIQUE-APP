(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33398,(e,t,r)=>{t.exports=e.r(8991)},51086,46313,e=>{"use strict";e.i(74374);let t={getUser:()=>{let e=localStorage.getItem("auth_token"),t=localStorage.getItem("user");if(e&&t)try{return JSON.parse(t)}catch{}return null},setUser:e=>{localStorage.setItem("user",JSON.stringify(e)),e.token&&localStorage.setItem("auth_token",e.token)},logout:()=>{localStorage.removeItem("user"),localStorage.removeItem("auth_token")},isAuthenticated:()=>!!localStorage.getItem("auth_token"),getToken:()=>localStorage.getItem("auth_token")};async function r(e,o={}){let s=`http://localhost:8001${e}`,a=o.method||"GET",l={"Content-Type":"application/json",...o.headers},n=t.getToken();n&&(l.Authorization=`Bearer ${n}`);let i=await fetch(s,{method:a,headers:l,body:o.body?JSON.stringify(o.body):void 0});if(!i.ok){if(401===i.status)throw t.logout(),Error("Unauthorized");throw Error(`API error: ${i.statusText}`)}return i.json()}e.s(["auth",0,t],46313),e.s(["orderAPI",0,{getCart:()=>r("/cart"),addToCart:(e,t)=>r("/cart/items",{method:"POST",body:{productId:e,quantity:t}}),removeFromCart:e=>r(`/cart/items/${e}`,{method:"DELETE"}),checkout:e=>r("/checkout",{method:"POST",body:e}),getOrders:()=>r("/orders"),getOrder:e=>r(`/orders/${e}`)},"userAPI",0,{register:(e,t,o)=>r("/users/register",{method:"POST",body:{email:e,password:t,name:o}}),login:(e,t)=>r("/users/login",{method:"POST",body:{email:e,password:t}}),getProfile:()=>r("/users/me"),updateProfile:e=>r("/users/me",{method:"PUT",body:e})}],51086)},67960,e=>{"use strict";var t=e.i(32961),r=e.i(17162),o=e.i(33398),s=e.i(9089),a=e.i(51086),l=e.i(46313);function n(){let e=(0,o.useRouter)(),[n,i]=(0,r.useState)(""),[d,u]=(0,r.useState)(""),[c,m]=(0,r.useState)(""),[h,g]=(0,r.useState)(!1),[p,b]=(0,r.useState)(""),x=async t=>{t.preventDefault(),b(""),g(!0);try{let t=await a.userAPI.register(n,d,c);l.auth.handleAuthResponse(t.data),e.push("/")}catch(e){b(e.response?.data?.detail||"Registration failed. Please try again.")}finally{g(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4",children:(0,t.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-serif font-bold text-center mb-8",children:"Register"}),p&&(0,t.jsx)("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded text-sm",children:p}),(0,t.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Full Name"}),(0,t.jsx)("input",{type:"text",value:c,onChange:e=>m(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-pink-600",placeholder:"John Doe",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Email"}),(0,t.jsx)("input",{type:"email",value:n,onChange:e=>i(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-pink-600",placeholder:"you@example.com",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Password"}),(0,t.jsx)("input",{type:"password",value:d,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-pink-600",placeholder:"••••••••",minLength:8,required:!0}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 8 characters"})]}),(0,t.jsx)("button",{type:"submit",disabled:h,className:"w-full bg-pink-600 text-white py-2 rounded font-semibold hover:bg-pink-700 disabled:bg-gray-300 transition",children:h?"Creating account...":"Register"})]}),(0,t.jsxs)("p",{className:"text-center text-gray-600 mt-6",children:["Already have an account?"," ",(0,t.jsx)(s.default,{href:"/auth/login",className:"text-pink-600 hover:text-pink-700 font-semibold",children:"Login"})]})]})})}e.s(["default",()=>n])}]);