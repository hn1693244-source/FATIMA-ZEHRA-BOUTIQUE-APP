{"version":3,"sources":["../../../../../../app/frontend/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../../../app/frontend/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../../../app/frontend/lib/auth.ts","../../../../../../app/frontend/lib/api.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","// Authentication utilities\nexport interface User {\n  id: string;\n  email: string;\n  name: string;\n  token?: string;\n}\n\nexport const auth = {\n  getUser: (): User | null => {\n    if (typeof window === 'undefined') return null;\n    const token = localStorage.getItem('auth_token');\n    const user = localStorage.getItem('user');\n    if (token && user) {\n      try {\n        return JSON.parse(user);\n      } catch {\n        return null;\n      }\n    }\n    return null;\n  },\n\n  setUser: (user: User): void => {\n    if (typeof window !== 'undefined') {\n      localStorage.setItem('user', JSON.stringify(user));\n      if (user.token) {\n        localStorage.setItem('auth_token', user.token);\n      }\n    }\n  },\n\n  logout: (): void => {\n    if (typeof window !== 'undefined') {\n      localStorage.removeItem('user');\n      localStorage.removeItem('auth_token');\n    }\n  },\n\n  isAuthenticated: (): boolean => {\n    if (typeof window === 'undefined') return false;\n    return !!localStorage.getItem('auth_token');\n  },\n\n  getToken: (): string | null => {\n    if (typeof window === 'undefined') return null;\n    return localStorage.getItem('auth_token');\n  }\n};\n","// API client utilities\nimport { auth } from './auth';\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000/api';\n\ninterface APIOptions {\n  method?: 'GET' | 'POST' | 'PUT' | 'DELETE' | 'PATCH';\n  body?: unknown;\n  headers?: Record<string, string>;\n}\n\nasync function apiCall<T>(endpoint: string, options: APIOptions = {}): Promise<T> {\n  const url = `${API_BASE_URL}${endpoint}`;\n  const method = options.method || 'GET';\n  const headers = {\n    'Content-Type': 'application/json',\n    ...options.headers,\n  };\n\n  const token = auth.getToken();\n  if (token) {\n    headers['Authorization'] = `Bearer ${token}`;\n  }\n\n  const response = await fetch(url, {\n    method,\n    headers,\n    body: options.body ? JSON.stringify(options.body) : undefined,\n  });\n\n  if (!response.ok) {\n    if (response.status === 401) {\n      auth.logout();\n      throw new Error('Unauthorized');\n    }\n    throw new Error(`API error: ${response.statusText}`);\n  }\n\n  return response.json();\n}\n\nexport const userAPI = {\n  register: (email: string, password: string, name: string) =>\n    apiCall('/users/register', {\n      method: 'POST',\n      body: { email, password, name },\n    }),\n\n  login: (email: string, password: string) =>\n    apiCall('/users/login', {\n      method: 'POST',\n      body: { email, password },\n    }),\n\n  getProfile: () => apiCall('/users/me'),\n\n  updateProfile: (data: unknown) =>\n    apiCall('/users/me', {\n      method: 'PUT',\n      body: data,\n    }),\n};\n\nexport const orderAPI = {\n  getCart: () => apiCall('/cart'),\n\n  addToCart: (productId: number, quantity: number) =>\n    apiCall('/cart/items', {\n      method: 'POST',\n      body: { productId, quantity },\n    }),\n\n  removeFromCart: (itemId: string) =>\n    apiCall(`/cart/items/${itemId}`, {\n      method: 'DELETE',\n    }),\n\n  checkout: (data: unknown) =>\n    apiCall('/checkout', {\n      method: 'POST',\n      body: data,\n    }),\n\n  getOrders: () => apiCall('/orders'),\n\n  getOrder: (id: string) => apiCall(`/orders/${id}`),\n};\n\nexport const productAPI = {\n  getProducts: (params?: Record<string, unknown>) => {\n    const query = new URLSearchParams();\n    if (params) {\n      Object.entries(params).forEach(([key, value]) => {\n        if (value !== undefined && value !== null) {\n          query.append(key, String(value));\n        }\n      });\n    }\n    return apiCall(`/products${query.toString() ? `?${query.toString()}` : ''}`);\n  },\n\n  getProduct: (id: number) => apiCall(`/products/${id}`),\n\n  getCategories: () => apiCall('/categories'),\n};\n"],"names":["module","exports","require","vendored","HooksClientContext","ServerInsertedHtml"],"mappings":"gjBAAAA,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACC,kBAAkB,+BCFzCJ,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACE,kBAAkB,+BCMlC,IAAM,EAAO,CAClB,QAAS,IACmC,KAa5C,QAAS,AAAC,IAOV,EAEA,OAAQ,KAKR,EAEA,gBAAiB,KAC2B,EAI5C,SAAU,IACkC,IAG9C,ECrCA,eAAe,EAAW,CAAgB,CAAE,EAAsB,CAAC,CAAC,EAClE,IAAM,EAAM,GAAG,qBAAe,GAAU,CAClC,EAAS,EAAQ,MAAM,EAAI,MAC3B,EAAU,CACd,eAAgB,mBAChB,GAAG,EAAQ,OAAO,AACpB,EAEM,EAAQ,EAAK,QAAQ,GACvB,IACF,EAAQ,CADC,IACF,QAAiB,CAAG,CAAC,OAAO,EAAE,EAAA,CAAA,AAAO,EAG9C,IAAM,EAAW,MAAM,MAAM,EAAK,QAChC,UACA,EACA,KAAM,EAAQ,IAAI,CAAG,KAAK,SAAS,CAAC,EAAQ,IAAI,OAAI,CACtD,GAEA,GAAI,CAAC,EAAS,EAAE,CAAE,CAChB,GAAwB,KAAK,CAAzB,EAAS,MAAM,CAEjB,MADA,EAAK,MAAM,GACL,AAAI,MAAM,eAElB,OAAM,AAAI,MAAM,CAAC,WAAW,EAAE,EAAS,UAAU,CAAA,CAAE,CACrD,CAEA,OAAO,EAAS,IAAI,EACtB,2CAwBwB,CACtB,QAAS,IAAM,EAAQ,SAEvB,UAAW,CAAC,EAAmB,IAC7B,EAAQ,cAAe,CACrB,OAAQ,OACR,KAAM,WAAE,WAAW,CAAS,CAC9B,GAEF,eAAgB,AAAC,GACf,EAAQ,CAAC,YAAY,EAAE,EAAA,CAAQ,CAAE,CAC/B,OAAQ,QACV,GAEF,SAAU,AAAC,GACT,EAAQ,YAAa,CACnB,OAAQ,OACR,KAAM,CACR,GAEF,UAAW,IAAM,EAAQ,WAEzB,SAAU,AAAC,GAAe,EAAQ,CAAC,QAAQ,EAAE,EAAA,CAAI,CACnD,cA7CuB,CACrB,SAAU,CAAC,EAAe,EAAkB,IAC1C,EAAQ,kBAAmB,CACzB,OAAQ,OACR,KAAM,CAAE,iBAAO,OAAU,CAAK,CAChC,GAEF,MAAO,CAAC,EAAe,IACrB,EAAQ,eAAgB,CACtB,OAAQ,OACR,KAAM,OAAE,WAAO,CAAS,CAC1B,GAEF,WAAY,IAAM,EAAQ,aAE1B,cAAe,AAAC,GACd,EAAQ,YAAa,CACnB,OAAQ,MACR,KAAM,CACR,EACJ","ignoreList":[0,1]}