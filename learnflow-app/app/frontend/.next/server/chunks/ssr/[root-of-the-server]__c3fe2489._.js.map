{"version":3,"sources":["../../../../../../app/frontend/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../../../app/frontend/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../../../app/frontend/lib/auth.ts","../../../../../../app/frontend/lib/api.ts","../../../../../../app/frontend/app/auth/register/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","// Authentication utilities\nexport interface User {\n  id: string;\n  email: string;\n  name: string;\n  token?: string;\n}\n\nexport const auth = {\n  getUser: (): User | null => {\n    if (typeof window === 'undefined') return null;\n    const token = localStorage.getItem('auth_token');\n    const user = localStorage.getItem('user');\n    if (token && user) {\n      try {\n        return JSON.parse(user);\n      } catch {\n        return null;\n      }\n    }\n    return null;\n  },\n\n  setUser: (user: User): void => {\n    if (typeof window !== 'undefined') {\n      localStorage.setItem('user', JSON.stringify(user));\n      if (user.token) {\n        localStorage.setItem('auth_token', user.token);\n      }\n    }\n  },\n\n  logout: (): void => {\n    if (typeof window !== 'undefined') {\n      localStorage.removeItem('user');\n      localStorage.removeItem('auth_token');\n    }\n  },\n\n  isAuthenticated: (): boolean => {\n    if (typeof window === 'undefined') return false;\n    return !!localStorage.getItem('auth_token');\n  },\n\n  getToken: (): string | null => {\n    if (typeof window === 'undefined') return null;\n    return localStorage.getItem('auth_token');\n  }\n};\n","// API client utilities\nimport { auth } from './auth';\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000/api';\n\ninterface APIOptions {\n  method?: 'GET' | 'POST' | 'PUT' | 'DELETE' | 'PATCH';\n  body?: unknown;\n  headers?: Record<string, string>;\n}\n\nasync function apiCall<T>(endpoint: string, options: APIOptions = {}): Promise<T> {\n  const url = `${API_BASE_URL}${endpoint}`;\n  const method = options.method || 'GET';\n  const headers = {\n    'Content-Type': 'application/json',\n    ...options.headers,\n  };\n\n  const token = auth.getToken();\n  if (token) {\n    headers['Authorization'] = `Bearer ${token}`;\n  }\n\n  const response = await fetch(url, {\n    method,\n    headers,\n    body: options.body ? JSON.stringify(options.body) : undefined,\n  });\n\n  if (!response.ok) {\n    if (response.status === 401) {\n      auth.logout();\n      throw new Error('Unauthorized');\n    }\n    throw new Error(`API error: ${response.statusText}`);\n  }\n\n  return response.json();\n}\n\nexport const userAPI = {\n  register: (email: string, password: string, name: string) =>\n    apiCall('/users/register', {\n      method: 'POST',\n      body: { email, password, name },\n    }),\n\n  login: (email: string, password: string) =>\n    apiCall('/users/login', {\n      method: 'POST',\n      body: { email, password },\n    }),\n\n  getProfile: () => apiCall('/users/me'),\n\n  updateProfile: (data: unknown) =>\n    apiCall('/users/me', {\n      method: 'PUT',\n      body: data,\n    }),\n};\n\nexport const orderAPI = {\n  getCart: () => apiCall('/cart'),\n\n  addToCart: (productId: number, quantity: number) =>\n    apiCall('/cart/items', {\n      method: 'POST',\n      body: { productId, quantity },\n    }),\n\n  removeFromCart: (itemId: string) =>\n    apiCall(`/cart/items/${itemId}`, {\n      method: 'DELETE',\n    }),\n\n  checkout: (data: unknown) =>\n    apiCall('/checkout', {\n      method: 'POST',\n      body: data,\n    }),\n\n  getOrders: () => apiCall('/orders'),\n\n  getOrder: (id: string) => apiCall(`/orders/${id}`),\n};\n\nexport const productAPI = {\n  getProducts: (params?: Record<string, unknown>) => {\n    const query = new URLSearchParams();\n    if (params) {\n      Object.entries(params).forEach(([key, value]) => {\n        if (value !== undefined && value !== null) {\n          query.append(key, String(value));\n        }\n      });\n    }\n    return apiCall(`/products${query.toString() ? `?${query.toString()}` : ''}`);\n  },\n\n  getProduct: (id: number) => apiCall(`/products/${id}`),\n\n  getCategories: () => apiCall('/categories'),\n};\n","'use client'\n\nimport { useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport Link from 'next/link'\nimport { userAPI } from '@/lib/api'\nimport { auth } from '@/lib/auth'\n\nexport default function RegisterPage() {\n  const router = useRouter()\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [fullName, setFullName] = useState('')\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState('')\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setError('')\n    setLoading(true)\n\n    try {\n      const response = await userAPI.register(email, password, fullName)\n      auth.handleAuthResponse(response.data)\n      router.push('/')\n    } catch (err: any) {\n      setError(err.response?.data?.detail || 'Registration failed. Please try again.')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4\">\n      <div className=\"max-w-md w-full bg-white rounded-lg shadow-md p-8\">\n        <h1 className=\"text-3xl font-serif font-bold text-center mb-8\">Register</h1>\n\n        {error && (\n          <div className=\"mb-4 p-3 bg-red-100 text-red-700 rounded text-sm\">\n            {error}\n          </div>\n        )}\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-semibold mb-2\">Full Name</label>\n            <input\n              type=\"text\"\n              value={fullName}\n              onChange={(e) => setFullName(e.target.value)}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-pink-600\"\n              placeholder=\"John Doe\"\n              required\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-semibold mb-2\">Email</label>\n            <input\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-pink-600\"\n              placeholder=\"you@example.com\"\n              required\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-semibold mb-2\">Password</label>\n            <input\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-pink-600\"\n              placeholder=\"••••••••\"\n              minLength={8}\n              required\n            />\n            <p className=\"text-xs text-gray-500 mt-1\">Minimum 8 characters</p>\n          </div>\n\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"w-full bg-pink-600 text-white py-2 rounded font-semibold hover:bg-pink-700 disabled:bg-gray-300 transition\"\n          >\n            {loading ? 'Creating account...' : 'Register'}\n          </button>\n        </form>\n\n        <p className=\"text-center text-gray-600 mt-6\">\n          Already have an account?{' '}\n          <Link href=\"/auth/login\" className=\"text-pink-600 hover:text-pink-700 font-semibold\">\n            Login\n          </Link>\n        </p>\n      </div>\n    </div>\n  )\n}\n"],"names":["module","exports","require","vendored","HooksClientContext","ServerInsertedHtml"],"mappings":"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","ignoreList":[0,1]}