module.exports=[88068,(a,b,c)=>{"use strict";var d=a.r(32635);d.useState,d.useEffect,d.useLayoutEffect,d.useDebugValue,c.useSyncExternalStore=void 0!==d.useSyncExternalStore?d.useSyncExternalStore:function(a,b){return b()}},19682,(a,b,c)=>{"use strict";b.exports=a.r(88068)},80633,(a,b,c)=>{"use strict";var d=a.r(32635),e=a.r(19682),f="function"==typeof Object.is?Object.is:function(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b},g=e.useSyncExternalStore,h=d.useRef,i=d.useEffect,j=d.useMemo,k=d.useDebugValue;c.useSyncExternalStoreWithSelector=function(a,b,c,d,e){var l=h(null);if(null===l.current){var m={hasValue:!1,value:null};l.current=m}else m=l.current;var n=g(a,(l=j(function(){function a(a){if(!i){if(i=!0,g=a,a=d(a),void 0!==e&&m.hasValue){var b=m.value;if(e(b,a))return h=b}return h=a}if(b=h,f(g,a))return b;var c=d(a);return void 0!==e&&e(b,c)?(g=a,b):(g=a,h=c)}var g,h,i=!1,j=void 0===c?null:c;return[function(){return a(b())},null===j?void 0:function(){return a(j())}]},[b,c,d,e]))[0],l[1]);return i(function(){m.hasValue=!0,m.value=n},[n]),k(n),n}},7993,(a,b,c)=>{"use strict";b.exports=a.r(80633)},51239,a=>{"use strict";var b=a.i(73106),c=a.i(32635),d=a.i(1453),e=a.i(67932);let f={get url(){return`file://${a.P("app/frontend/node_modules/zustand/esm/vanilla.mjs")}`}},g=a=>{let b,c=new Set,d=(a,d)=>{let e="function"==typeof a?a(b):a;if(!Object.is(e,b)){let a=b;b=(null!=d?d:"object"!=typeof e||null===e)?e:Object.assign({},b,e),c.forEach(c=>c(b,a))}},e=()=>b,g={setState:d,getState:e,getInitialState:()=>h,subscribe:a=>(c.add(a),()=>c.delete(a)),destroy:()=>{(f.env?f.env.MODE:void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),c.clear()}},h=b=a(d,e,g);return g};var h=a.i(7993);let i={get url(){return`file://${a.P("app/frontend/node_modules/zustand/esm/index.mjs")}`}},{useDebugValue:j}=c.default,{useSyncExternalStoreWithSelector:k}=h.default,l=!1,m={get url(){return`file://${a.P("app/frontend/node_modules/zustand/esm/middleware.mjs")}`}},n=a=>b=>{try{let c=a(b);if(c instanceof Promise)return c;return{then:a=>n(a)(c),catch(a){return this}}}catch(a){return{then(a){return this},catch:b=>n(b)(a)}}},o=(a=>{(i.env?i.env.MODE:void 0)!=="production"&&"function"!=typeof a&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let b="function"==typeof a?a?g(a):g:a,c=(a,c)=>(function(a,b=a=>a,c){(i.env?i.env.MODE:void 0)!=="production"&&c&&!l&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),l=!0);let d=k(a.subscribe,a.getState,a.getServerState||a.getInitialState,b,c);return j(d),d})(b,a,c);return Object.assign(c,b),c})(((a,b)=>{if("getStorage"in b||"serialize"in b||"deserialize"in b)return(m.env?m.env.MODE:void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),(c,d,e)=>{let f,g,h={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:a=>a,version:0,merge:(a,b)=>({...b,...a}),...b},i=!1,j=new Set,k=new Set;try{f=h.getStorage()}catch(a){}if(!f)return a((...a)=>{console.warn(`[zustand persist middleware] Unable to update item '${h.name}', the given storage is currently unavailable.`),c(...a)},d,e);let l=n(h.serialize),m=()=>{let a,b=l({state:h.partialize({...d()}),version:h.version}).then(a=>f.setItem(h.name,a)).catch(b=>{a=b});if(a)throw a;return b},o=e.setState;e.setState=(a,b)=>{o(a,b),m()};let p=a((...a)=>{c(...a),m()},d,e),q=()=>{var a;if(!f)return;i=!1,j.forEach(a=>a(d()));let b=(null==(a=h.onRehydrateStorage)?void 0:a.call(h,d()))||void 0;return n(f.getItem.bind(f))(h.name).then(a=>{if(a)return h.deserialize(a)}).then(a=>{if(a)if("number"!=typeof a.version||a.version===h.version)return a.state;else{if(h.migrate)return h.migrate(a.state,a.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}}).then(a=>{var b;return c(g=h.merge(a,null!=(b=d())?b:p),!0),m()}).then(()=>{null==b||b(g,void 0),i=!0,k.forEach(a=>a(g))}).catch(a=>{null==b||b(void 0,a)})};return e.persist={setOptions:a=>{h={...h,...a},a.getStorage&&(f=a.getStorage())},clearStorage:()=>{null==f||f.removeItem(h.name)},getOptions:()=>h,rehydrate:()=>q(),hasHydrated:()=>i,onHydrate:a=>(j.add(a),()=>{j.delete(a)}),onFinishHydration:a=>(k.add(a),()=>{k.delete(a)})},q(),g||p};return(c,d,e)=>{let f,g={storage:function(a,b){let c;try{c=a()}catch(a){return}return{getItem:a=>{var b;let d=a=>null===a?null:JSON.parse(a,void 0),e=null!=(b=c.getItem(a))?b:null;return e instanceof Promise?e.then(d):d(e)},setItem:(a,b)=>c.setItem(a,JSON.stringify(b,void 0)),removeItem:a=>c.removeItem(a)}}(()=>localStorage),partialize:a=>a,version:0,merge:(a,b)=>({...b,...a}),...b},h=!1,i=new Set,j=new Set,k=g.storage;if(!k)return a((...a)=>{console.warn(`[zustand persist middleware] Unable to update item '${g.name}', the given storage is currently unavailable.`),c(...a)},d,e);let l=()=>{let a=g.partialize({...d()});return k.setItem(g.name,{state:a,version:g.version})},m=e.setState;e.setState=(a,b)=>{m(a,b),l()};let o=a((...a)=>{c(...a),l()},d,e);e.getInitialState=()=>o;let p=()=>{var a,b;if(!k)return;h=!1,i.forEach(a=>{var b;return a(null!=(b=d())?b:o)});let e=(null==(b=g.onRehydrateStorage)?void 0:b.call(g,null!=(a=d())?a:o))||void 0;return n(k.getItem.bind(k))(g.name).then(a=>{if(a)if("number"!=typeof a.version||a.version===g.version)return[!1,a.state];else{if(g.migrate)return[!0,g.migrate(a.state,a.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(a=>{var b;let[e,h]=a;if(c(f=g.merge(h,null!=(b=d())?b:o),!0),e)return l()}).then(()=>{null==e||e(f,void 0),f=d(),h=!0,j.forEach(a=>a(f))}).catch(a=>{null==e||e(void 0,a)})};return e.persist={setOptions:a=>{g={...g,...a},a.storage&&(k=a.storage)},clearStorage:()=>{null==k||k.removeItem(g.name)},getOptions:()=>g,rehydrate:()=>p(),hasHydrated:()=>h,onHydrate:a=>(i.add(a),()=>{i.delete(a)}),onFinishHydration:a=>(j.add(a),()=>{j.delete(a)})},g.skipHydration||p(),f||o}})((a,b)=>({items:[],addItem:b=>a(a=>a.items.find(a=>a.id===b.id)?{items:a.items.map(a=>a.id===b.id?{...a,quantity:a.quantity+b.quantity}:a)}:{items:[...a.items,b]}),removeItem:b=>a(a=>({items:a.items.filter(a=>a.id!==b)})),updateQuantity:(b,c)=>a(a=>({items:a.items.map(a=>a.id===b?{...a,quantity:c}:a)})),clearCart:()=>a({items:[]}),total:()=>b().items.reduce((a,b)=>a+b.price*b.quantity,0)}),{name:"cart-store"}));var p=a.i(31143),q=a.i(55256);function r(){let a=(0,e.useRouter)(),{items:f,setCart:g,removeItem:h,clear:i}=o(),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(!1);(0,c.useEffect)(()=>{(async()=>{if(!q.auth.isAuthenticated())return a.push("/auth/login");try{let a=await p.orderAPI.getCart();g(a.data.items||a.data)}catch(a){console.error("Failed to fetch cart:",a)}finally{k(!1)}})()},[]);let n=f.reduce((a,b)=>a+parseFloat(String(b.price))*b.quantity,0),r=async()=>{m(!0);try{let b=await p.orderAPI.checkout("123 Main Street, City, Country");i(),a.push(`/orders/${b.data.id}`)}catch(a){console.error("Checkout failed:",a),alert("Checkout failed. Please try again.")}finally{m(!1)}};return j?(0,b.jsx)("div",{className:"text-center py-12",children:"Loading cart..."}):0===f.length?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[(0,b.jsx)("h1",{className:"text-4xl font-serif font-bold mb-8",children:"Shopping Cart"}),(0,b.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow text-center",children:[(0,b.jsx)("p",{className:"text-gray-600 mb-4",children:"Your cart is empty"}),(0,b.jsx)(d.default,{href:"/products",className:"inline-block bg-pink-600 text-white px-6 py-3 rounded hover:bg-pink-700 transition",children:"Continue Shopping"})]})]})}):(0,b.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[(0,b.jsx)("h1",{className:"text-4xl font-serif font-bold mb-8",children:"Shopping Cart"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsx)("div",{className:"lg:col-span-2",children:(0,b.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-100",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-4 text-left font-semibold",children:"Product"}),(0,b.jsx)("th",{className:"px-6 py-4 text-center font-semibold",children:"Quantity"}),(0,b.jsx)("th",{className:"px-6 py-4 text-right font-semibold",children:"Price"}),(0,b.jsx)("th",{className:"px-6 py-4 text-right font-semibold",children:"Total"}),(0,b.jsx)("th",{className:"px-6 py-4"})]})}),(0,b.jsx)("tbody",{children:f.map(a=>(0,b.jsxs)("tr",{className:"border-t",children:[(0,b.jsx)("td",{className:"px-6 py-4",children:a.product_name}),(0,b.jsx)("td",{className:"px-6 py-4 text-center",children:a.quantity}),(0,b.jsxs)("td",{className:"px-6 py-4 text-right",children:["Rs. ",parseFloat(String(a.price)).toFixed(0)]}),(0,b.jsxs)("td",{className:"px-6 py-4 text-right font-semibold",children:["Rs. ",(parseFloat(String(a.price))*a.quantity).toFixed(0)]}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsx)("button",{onClick:()=>h(a.product_id),className:"text-red-600 hover:text-red-700 font-semibold",children:"Remove"})})]},a.product_id))})]})})}),(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,b.jsx)("h2",{className:"text-xl font-serif font-bold mb-6",children:"Order Summary"}),(0,b.jsxs)("div",{className:"space-y-4 mb-6 pb-6 border-b",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Subtotal"}),(0,b.jsxs)("span",{children:["Rs. ",n.toFixed(0)]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Shipping"}),(0,b.jsx)("span",{children:"Free"})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Tax"}),(0,b.jsx)("span",{children:"Rs. 0"})]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-xl font-bold mb-6",children:[(0,b.jsx)("span",{children:"Total"}),(0,b.jsxs)("span",{children:["Rs. ",n.toFixed(0)]})]}),(0,b.jsx)("button",{onClick:r,disabled:l,className:"w-full bg-pink-600 text-white py-3 rounded font-semibold hover:bg-pink-700 disabled:bg-gray-300 transition",children:l?"Processing...":"Proceed to Checkout"}),(0,b.jsx)(d.default,{href:"/products",className:"block text-center mt-4 text-pink-600 hover:text-pink-700 font-semibold",children:"Continue Shopping"})]})})]})]})})}a.s(["default",()=>r],51239)}];

//# sourceMappingURL=app_frontend_580e9d1b._.js.map